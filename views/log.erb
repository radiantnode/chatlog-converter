<!DOCTYPE html>
  <head>
    <meta charset="utf-8">
    <title>Chat with <%= sender %> on <%= time.strftime('%A, %B %e, %Y at %l:%M %p %Z') %></title>
    <style>
      body {
        margin: 40px;
        font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
        color: #111;
      }
      dl {
        display: flex;
        flex-flow: row wrap;
        border: solid #ccc;
        border-width: 1px 1px 0 0;
      }
      dt {
        flex-basis: 15%;
        padding: 10px;
        background: #ccc;
        text-align: right;
        color: #555;
      }
      dd {
        flex-basis: 75%;
        flex-grow: 1;
        margin: 0;
        padding: 15px;
        border-bottom: 1px solid #ccc;
      }
      img {
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1>Chat with <%= sender %></h1>
    <p><%= time.strftime('%A, %B %e, %Y at %l:%M %p %Z') %></p>

    <dl>
      <% messages.each do |message| %>
        <dt>
          <strong><%= message[:sender] %></strong><br/>
          <em><small><%= message[:time].strftime('%l:%M %p') %></small></em>
        </dt>
        <dd>
          <%= Rinku.auto_link(message[:text]) %>
          <br />

          <% if message[:image] %>
            <a href="<%= message[:image] %>"><img src="<%= message[:image] %>" /></a>
          <% end %>
        </dd>
      <% end %>
    </dl>

    <p>
      <small>Generated with <a href="https://github.com/radiantnode/chatlog-converter">Chatlog Converter</a>.</small>
    </p>
  </body>
</html>
